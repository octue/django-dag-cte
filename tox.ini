[tox]
envlist = {py36,py37}-dj{21}-wag{23},py36-flake8

[testenv]
setenv =
    DJANGO_SETTINGS_MODULE=tests.settings
    PYTHONPATH = {toxinidir}:{toxinidir}/rabid_armadillo
commands =
    coverage run --source rabid_armadillo runtests.py
    coverage report --show-missing
deps =
    dj21: Django>=2.1,<2.2
    coverage==4.2.0
    factory-boy==2.8.1
    mock==2.0.0
    python-dateutil==2.8.0

[testenv:py36-flake8]
commands = flake8 .
deps =
    flake8
    flake8-print